function ImgPreloader(o,t){t="function"==typeof t?t:function(){};var e=function(e,r){if(!o||"string"!=typeof o)throw new Error("ImgPreloader Error: expected first argument to be a URL");var n=new Image;n.onload=function(){e(n),t(n)},n.onerror=function(){var e=new Error("Failed to load image");r(e),t(null,e)},n.src=o};if("undefined"!=typeof Promise)return new Promise(e);try{e(function(){},function(){})}catch(e){t(null,e)}}"undefined"!=typeof module&&(module.exports=ImgPreloader);